<div class="profile">
  <img src="profile.png" alt="default user">
  <h3>User Info:</h3>

  <ng-container *ngIf="!isEditMode; else editMode">
    <div class="flex">
      <p>Name: </p>
      <p>{{ currentUser?.name || 'N/A' }}</p>
    </div>
    <div class="flex">
      <p>Email: </p>
      <p>{{ currentUser?.email }}</p>
    </div>
    <button class="edit-button" (click)="onEdit()">Edit</button>
  </ng-container>

  <ng-template #editMode>
    <form [formGroup]="profileForm" (ngSubmit)="onSave()">
      <div class="flex">
        <p>Name: </p>
        <div class="input-container">
          <input [class.input-error]="isUserNameValid" type="text" id="name" formControlName="name" />
          <p class="error" *ngIf="isUserNameValid">{{ usernameErrorMessage }}</p>
        </div>
      </div>

      <div class="flex">
        <p>Email: </p>
        <div class="input-container">
          <input [class.input-error]="isEmailValid" type="email" id="email" formControlName="email" />
          <p class="error" *ngIf="isEmailValid">{{ emailErrorMessage }}</p>
        </div>
      </div>

      <div class="button-container">
        <button (click)="onCancel()" type="button" class="red-button">Cancel</button>
        <button [disabled]="profileForm.invalid" type="submit" class="green-button">Save</button>
      </div>
    </form>
  </ng-template>
</div>
